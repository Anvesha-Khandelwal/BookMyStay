<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Complete Booking - BookMyStay</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
body{margin:0;background:#f8f4f0;font-family:Poppins,sans-serif;color:#2b3a2d;}

.booking-section{padding:2rem 1rem;}
.booking-container{max-width:1080px;margin:auto;display:grid;grid-template-columns:1.3fr 1fr;gap:2rem;}

.card{
  background:rgba(255,255,255,0.7);backdrop-filter:blur(16px);
  border-radius:30px;padding:1.6rem;box-shadow:0 6px 26px rgba(0,0,0,0.06);
  border:1px solid rgba(0,0,0,0.03);
}

/* Inputs */
.input-wrap{display:flex;flex-direction:column;gap:6px;margin-bottom:1rem;}
.input-wrap label{font-size:0.85rem;font-weight:700;color:#3e5c47;}
.input-wrap input, .input-wrap select{
  padding:0.95rem 1.2rem;border-radius:18px;border:none;background:#f1ece6;
  outline:1.8px solid rgba(79,209,229,0.28);font-size:0.92rem;color:#2b3a2d;font-weight:600;
}
.input-wrap input:focus, .input-wrap select:focus{outline:2px solid #4dd0e1;background:#fff;}

/* Buttons */
.btn{width:100%;padding:1rem;border-radius:10px;border:none;background:#4dd0e1;color:#004d40;font-weight:800;cursor:pointer;text-transform:uppercase;font-size:0.85rem;transition:0.3s;box-shadow:0 3px 14px rgba(79,209,229,0.35);}
.btn:hover{opacity:0.9;transform:translateY(-2px);box-shadow:0 6px 25px rgba(79,209,229,0.55);}
.cancel{background:#6a6a6a;color:#fff;box-shadow:none;margin-top:0.6rem;}
.cancel:hover{background:#444;transform:none;}

.room-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-top:1.3rem;}
.room-card{background:white;border-radius:26px;padding:1rem;cursor:pointer;box-shadow:0 3px 12px rgba(0,0,0,0.05);opacity:0.92;transition:0.25s;border:2px solid transparent;}
.room-card:hover{opacity:1;transform:translateY(-4px);border-color:#4dd0e1;}
.room-card.selected{border-color:#4dd0e1;background:#e0fbfc;}

.star{color:#4dd0e1;}

@keyframes pop{from{opacity:0;transform:translateY(20px) scale(0.96);}to{opacity:1;transform:translateY(0) scale(1);}}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.3);backdrop-filter:blur(14px);display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:0.25s;z-index:4000;}
.modal-overlay.active{opacity:1;pointer-events:all;}
.modal-card{width:90%;max-width:420px;background:white;border-radius:34px;padding:1.5rem;box-shadow:0 10px 45px rgba(0,0,0,0.12);animation:pop 0.35s ease;}
.modal-card h2{font-size:1.3rem;font-weight:800;color:#3e5c47;margin-bottom:4px;text-align:center;}
.modal-card p{text-align:center;font-weight:600;color:#6a6a6a;font-size:0.9rem;}
.modal-check{font-size:3rem;color:#4dd0e1;display:block;text-align:center;margin-bottom:0.4rem;}
</style>
</head>
<body class="booking-page">

<nav style="background:white;padding:1rem 2rem;box-shadow:0 3px 18px rgba(0,0,0,0.05);border-bottom:1px solid rgba(79,209,229,0.2);position:sticky;top:0;z-index:999;">
  <div style="display:flex;justify-content:space-between;align-items:center;">
    <div style="font-weight:800;font-size:1.2rem;color:#3e5c47;">✦ BookMyStay</div>
  </div>
</nav>

<section class="booking-section">
<div class="booking-container">

  <!-- Left: Form -->
  <div class="card booking-form-wrapper" style="animation:pop 0.8s ease;">
    <h1 style="font-size:1.7rem;font-weight:800;margin:0 0 1rem;color:#3e5c47;text-align:center;">
      Complete Your Booking
    </h1>

    <form id="bookingForm">
      <div class="input-wrap">
        <label><i class="fa fa-user star"></i> Full Name</label>
        <input type="text" id="bName" placeholder="John Doe" required>
      </div>

      <div class="input-wrap">
        <label><i class="fa fa-envelope star"></i> Email</label>
        <input type="email" id="bEmail" placeholder="john@mail.com" required>
        <small id="emailErr" class="error-message" style="display:none;">Invalid email</small>
      </div>

      <div class="input-wrap">
        <label><i class="fa fa-phone star"></i> Phone</label>
        <input type="tel" id="bPhone" placeholder="75560XXXXX" required minlength="10" maxlength="10">
      </div>

      <div class="input-wrap">
        <label><i class="fa fa-location-dot star"></i> Address</label>
        <input type="text" id="bAddress" placeholder="123 Street, Bangalore" required>
      </div>

      <div class="input-wrap">
        <label><i class="fa fa-calendar-check star"></i> Check-In</label>
        <input type="date" id="checkIn" required>
      </div>
      <div class="input-wrap">
        <label><i class="fa fa-calendar-times star"></i> Check-Out</label>
        <input type="date" id="checkOut" required>
      </div>

      <div class="input-wrap">
        <label><i class="fa fa-users star"></i> Guests</label>
        <select id="guestSel" required>
          <option value="">Select Guests</option>
          <option value="1">1 Guest</option>
          <option value="2">2 Guests</option>
          <option value="3">3 Guests</option>
          <option value="5">5 Guests</option>
          <option value="6">6 Guests</option>
          <option value="7">7 Guests</option>
          <option value="8">8 Guests</option>
          <option value="9">9 Guests</option>
          <option value="10">10 Guests</option>

        
        </select>
      </div>

      <div class="input-wrap">
        <label>Room Type</label>
        <div class="room-grid" id="roomsGrid">
          <div class="room-card" data="Standard">Standard<br><b>₹3000</b>/night</div>
          <div class="room-card" data="Deluxe">Deluxe<br><b>₹3800</b>/night</div>
          <div class="room-card" data="Suite">Suite<br><b>₹5600</b>/night</div>
          <div class="room-card" data="Family">Family<br><b>₹7200</b>/night</div>
        </div>
        <small id="roomErr" class="error-message" style="display:none;">Select a room</small>
      </div>

      <div class="input-wrap full-width">
        <label><i class="fa fa-note-sticky star"></i> Special Requests</label>
        <input type="text" id="bNote" placeholder="High floor, late check-in…">
      </div>

      <button class="btn" type="submit">Confirm Booking</button>
      <button class="btn cancel" type="button" onclick="history.back()">Cancel</button>
    </form>
  </div>


  <!-- Right: Summary -->
  <div class="card booking-summary" style="animation:pop 1s ease;">
    <h2 style="font-size:1.2rem;font-weight:800;color:#3e5c47;margin-bottom:1rem;"><i class="fa fa-receipt star"></i> Booking Summary</h2>
    <p class="muted"><b>Hotel:</b> <span id="hName"></span></p>
    <p class="muted"><b>Location:</b> <span id="hCity"></span></p>
    <p class="muted"><b>Dates:</b> <span id="displayCheckIn"></span> → <span id="displayCheckOut"></span></p>
    <p class="muted"><b>Guests:</b> <span id="summaryGuests"></span></p>
    <p class="muted"><b>Room:</b> <span id="summaryRoom"></span></p>

    <div style="height:2px;background:#e8dac8;margin:1rem 0;border-radius:2px;"></div>

    <p class="price" style="margin:0;">Total: ₹<span id="summaryTotal"></span></p>
    <p style="font-size:0.8rem;color:#555;font-weight:600;">Includes approx 5% tax</p>
  </div>

</div>
</section>

<!-- Booking confirmed modal -->
<div class="modal-overlay" id="bookModal">
  <div class="modal-card">
    <i class="fa fa-circle-check modal-check"></i>
    <h2>Booking Confirmed!</h2>
    <p>Redirecting…</p>
  </div>
</div>

<script>
document.getElementById("hName").textContent = localStorage.getItem("hName") || "Grand Palace";
document.getElementById("hCity").textContent = localStorage.getItem("hCity") || "Bangalore";

let priceMap={Standard:3000,Deluxe:3800,Suite:5600,Family:7200},selectedRoom="";

document.querySelectorAll(".room-card").forEach(c=>{
  c.onclick=e=>{
    document.querySelectorAll(".room-card").forEach(x=>x.classList.remove("selected"));
    c.classList.add("selected");
    selectedRoom=c.getAttribute("data");
    summaryRoom.textContent=selectedRoom;
    roomErr.style.display="none";
  }
});

bookingForm.onsubmit=e=>{
  e.preventDefault();
  if(!selectedRoom){roomErr.style.display="block";return;}

  const inD=new Date(checkIn.value),outD=new Date(checkOut.value);
  const nights=Math.max(1,Math.ceil((outD-inD)/(86400000)));
  const sub=priceMap[selectedRoom]*nights;
  summaryGuests.textContent=guestSel.value;
  summaryRoom.textContent=selectedRoom;
  summaryTotal.textContent=(sub+(sub*0.05)).toFixed(0);

  displayCheckIn.textContent=checkIn.value;
  displayCheckOut.textContent=checkOut.value;

  bookModal.classList.add("active");
  setTimeout(()=>location.href="index.html",1400);
};
</script>

</body>
</html>
